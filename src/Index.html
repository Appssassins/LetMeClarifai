<!DOCTYPE html>
<html lang="en">
    <head>
        <title>First canvas page</title>    
        <meta charset="utf-8">             
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <script>src="/LetMeClarifai/scripts/Basicfunctions.js"</script>
        <script>src="/LetMeClarifai/scripts/Brushes.js"</script>
        <script>src="/LetMeClarifai/scripts/Color.js"</script>
        <script>src="/LetMeClarifai/scripts/Canvas.js"</script>
        <link rel="stylesheet" href="/LetMeClarifai/style/Main.css">
    </head>                     
    <body>


        <canvas id="myCanvas" width="600" height="600"></canvas>
            Your browser does not support the HTML5 canvas tag.
            Please upgrade your browser to use this website.
        </canvas>
        
        <table width='100%'>
        <tr>
            <td><form></form><button onclick="displayImage()">Display Image</button></form></td>
            <td><form><button onclick="clearCanvas()">Clear Canvas</button></form></td> 
            <td><form><button id="download">Download</button></form></td>
            <td><form><button onclick="undo()">Undo</button></form></td>
            <td><form><button onclick="redo()">Redo</button></form></td>
            <td><form><button onclick="save()">Save</button></form></td> 
        </tr>
        <tr>
            <td><form><button onclick="brushType='Pen'">Pen</button></form></td> 
            <td><form><button onclick="brushType='Eraser'">Eraser</button></form></td>
            <td><form><button onclick="brushType='Line'">Line</button></form></td>
            <td><form><button onclick="brushType='Rectangle'">Rectangle</button></form></td>
            <td><form><button onclick="brushType='Circle'">Circle</button></form></td>
            <td><form><button onclick="brushType='Heart'">Heart</button></form></td>
            <td><form><button onclick="brushType='Star'">Star</button></form></td>
            <td><form><button onclick="brushType='Triangle'">Triangle</button></form></td>
        </tr>
        </table>

        <script>                                      //We need to create seperate JS files for organizing our code.
            var canvas = document.getElementById("myCanvas");       //Images to represent the different tools rather than words
            var ctx = canvas.getContext('2d');        //CtX is the context, How we draw on the canvas.
            const download = document.getElementById('download');
            var img = new Image();                    //Image lets us hold and manipulate images.
            var history = [];                         //History is an array that holds the history of the canvas.
            var memory = 0;                           //Memory is a variable that holds the current index of the history array for undo and redo.
            var brushType = 'Pen';                    //BrushType decides which function we use in drawPoint.

            var radius =  0;    
            var nStartX = 0;    
            var nStartY = 0;  
            var bIsDrawing = false;

            canvas.addEventListener('mousedown',putPoint);  
            canvas.addEventListener('mousemove',drawPoint(brushType, e)); // drawPoint is the function for each tool. put and stop are the same.
            canvas.addEventListener('mouseup',stopPoint);

        </script>
    </body>
</html>